# 需求规格说明文档

[TOC]

## 更新记录

| 时间      | 修改人 | 简单描述 |
| --------- | ------ | -------- |
| 2019-2-23 | 全员   | 完成初稿 |

## 详细需求描述

### 功能需求

#### 1 个人信息查看

##### 1.1 特性描述

用户注册并登陆后可查看个人基本信息、收藏情况、正在进行项目和历史统计；可以查看个人信用情况，并且进行账号的信用验证。

优先级=高

##### 1.2 刺激/ 响应序列

刺激：用户要求查看“个人信息”

响应：系统显示用户的账号类别、用户名等基本信息，并且显示近期个人财务统计分析

刺激：用户要求查看“收藏情况”

响应：系统显示用户收藏的标的信息

刺激：用户要求查看“正在进行项目”

响应：系统显示用户正在参与项目的情况（投资/融资）

刺激：用户要求查看“历史统计”

响应：系统显示历史上参与投资/融资的项目，并显示用户历史上的资产变动统计表或图

刺激：用户要求进行初级账号检验，输入邮箱和手机号码

响应：系统向输入的邮箱发送验证邮件，向手机发送验证码，等待用户反馈

刺激：用户要求进行中级账号检验，上传学生证及校园卡图片

响应：系统将图片上传到后端，等待核审	

刺激：用户要求进行完整账号检验，提交手持身份证照片

响应：系统将图片上传到后端，等待核审

刺激：用户要求进行完整账号检验，提交支付宝、银行卡数据

响应：系统将数据上传到数据库

刺激：用户要求进行校友账号检验，提交毕业证书、学位证书

响应：系统将图片上传到后端口，等待核审

刺激：用户要求进行信用交叉检验，输入多个关联关系网络的其他同学的账号

响应：系统推送邮件至这些账号绑定的邮箱

##### 1.3 相关功能需求

|编号|需求描述|
|---------|----------|
|User.Input|系统允许用户进行键盘鼠标操作|
|User.Information|系统响应用户发起查看个人信息请求|
|User.Information.Start|当用户发起查看个人信息请求时，系统显示用户信息|
|User.Information.Analysis|系统导出并显示近期个人财务统计分析|
|User.Information.End|系统允许用户结束查看个人信息|
|User.Information.End.Close|用户结束查看个人信息，跳转到其他页面|
|User.Favorite|系统响应用户发起查看收藏情况请求|
|User.Favorite.Start|当用户发起查看收藏情况请求时，系统显示用户收藏情况|
|User.Favorite.Marks|系统导出并显示用户收藏的标的信息|
|User.Favorite.End|系统允许用户结束查看收藏情况|
|User.Favorite.End.Close|用户结束查看收藏情况，跳转到其他页面|
|User.Progressing|系统响应用户发起查看正在进行项目请求|
|User.Progressing.Start|当用户发起查看正在进行项目请求时，系统显示用户正在参与项目的情况（投资/融资）|
|User.Progressing.Cases|系统导出并显示用户正在参与项目的情况（投资/融资）|
|User.Progressing.End|系统允许用户结束正在进行项目情况|
|User.Progressing.End.Close|用户结束查看正在进行项目，跳转到其他页面|
|User.History|系统响应用户发起查看历史统计请求|
|User.History.Start|当用户发起查看历史统计请求时，系统显示历史上参与投资/融资的项目，并显示用户历史上的资产变动统计表或图|
|User.History.Cases|系统导出并显示用户正在参与项目的情况（投资/融资）|
|User.History.Statistics|系统导出并显示用户历史上的资产变动统计表|
|User.History.Charts|系统导出并显示用户历史上的资产变动统计图|
|User.History.End|系统允许用户结束查看历史统计|
|User.History.End.Close|用户结束查看历史统计，跳转到其他页面|
|User.Check|系统响应用户发起信用校验请求|
|User.Check.Start|当用户发起信用校验请求，系统显示已有信用等级，并要求选择进行何种程度的信用校验|
|User.Check.Junior|用户选择进行初级账号校验，输入手机号码与邮箱账号|
|User.Check.Junior.Invalid|用户邮箱格式或者手机号码输入错误，系统提示输入有误|
|User.Check.Junior.Email|系统向输入的邮箱发送验证邮件|
|User.Check.Junior.Email.Resend|系统向输入的邮箱重新发送验证邮件|
|User.Check.Junior.Email.Update|系统收到邮件，更新邮件信息|
|User.Check.Junior.Message|系统向输入的手机发送验证码|
|User.Check.Junior.Message.Resend|系统向输入的手机重新发送验证码|
|User.Check.Junior.Message.Code|系统提醒用户输入短信验证码|
|User.Check.Junior.Message.Code.Invalid|系统校验验证码，验证码有误或者过期，系统提示验证码出错|
|User.Check.Junior.Message.Code.Valid|系统校验验证码，验证码正确|
|User.Check.Junior.Message.Update|系统校验验证码正确，更新手机号码信息|
|User.Check.Junior.Update|系统更新用户账号等级信息|
|User.Check.Medium|用户选择进行中级账号校验，用户上传学生证及校园卡图片|
|User.Check.Medium.Invalid|用户上传图片格式错误或上传失败|
|User.Check.Medium.Picture|系统将上传图片导入后台|
|User.Check.Medium.Picture.Invalid|管理员核审图片，信息有误或不完整|
|User.Check.Medium.Picture.Valid|管理员核审图片，信息正确|
|User.Check.Medium.Update|管理员核审成功，提高用户账号等级信息|
|User.Check.Advanced|用户选择进行高级账号校验，用户上传手持身份证照片|
|User.Check.Advanced.Invalid|用户上传图片格式错误或上传失败，系统给出提示信息|
|User.Check.Advanced.Picture|系统将上传图片导入后台|
|User.Check.Advanced.Picture.Invalid|管理员核审图片，信息有误或不完整|
|User.Check.Advanced.Picture.Valid|管理员核审图片，信息正确|
|User.Check.Advanced.Statistics|用户选择导入银行卡或支付宝数据 //这里感觉是个坑，稍微写一下|
|User.Check.Advanced.Statistics.Invalid|用户导入数据有误|
|User.Check.Advanced.Statistics.Alipay|用户导入支付宝数据|
|User.Check.Advanced.Statistics.Bank|用户导入银行卡数据 |
|User.Check.Advanced.Update|身份证审核和数据导入成功，提高用户账号等级信息|
|User.Check.schoolfellow |用户选择进行校友账号验证，用户上传毕业证书或学位证书|
|User.Check.schoolfellow.Invalid|用户上传图片格式错误或上传失败|
|User.Check.schoolfellow.Picture|系统将上传图片导入后台|
|User.Check.schoolfellow.Picture.Invalid|管理员核审图片，信息有误或不完整|
|User.Check.schoolfellow.Picture.Valid|管理员核审图片，信息正确|
|User.Check.schoolfellow.Update|管理员核审成功，提高用户账号等级信息|
|User.Check.End|系统允许用户结束信用校验请求|
|User.Check.End.Close|用户结束信用校验请求，跳转到其他页面|

#### 2 融资

##### 2.1 特性描述

融资方验证身份之后，发起融资标的

优先级 = 高

##### 2.2 刺激/响应序列

刺激：融资方发起创建融资标的

响应：系统显示创建界面

刺激：融资方选择创建标的的需求类别

响应：系统根据选择结果呈现不同的填写界面

刺激：用户选择身份信息透明化程度

响应：系统根据用户选择的身份信息透明化程度提示用户将要显示的身份信息

刺激：融资方填写所需融资金额

响应：系统判断金额是否满足不同类别的区间，如果符合，继续填写；如果不符合，系统提示错误

刺激：融资方提交时信息填写不完整

响应：系统提示信息不完整要求补充

刺激：融资方提交完整信息

响应：系统及时更新数据，显示提交结果，若提交成功，将数据提交到审核程序；若提交失败，提醒用户提交失败

##### 2.3 相关功能需求

| 编号                          | 需求描述                                                     |
| ----------------------------- | ------------------------------------------------------------ |
| Financing.New                 | 系统要允许用户创建新的融资                                   |
| Financing.New.Small           | 系统要支持创建小额短期类融资项目                             |
| Financing.New.Large           | 系统要支持创建大额长期类融资项目                             |
| Financing.Check.Money         | 用户填写完金额后，系统要对金额进行合法性检查（金额是否在系统规定的区间之内） |
| Financing.Check.Completeness  | 系统要对填写信息的完整性进行检查                             |
| Financing.Commit              | 用户填写完相关信息后，系统要将信息进行保存，并提交给审核程序进行审核（参见7.项目审核） |
| Financing.Check.Money.Invalid | 如果用户填写的金额不正确，系统要提示用户“金额不在规定范围内” |
| Financing.Check.Completeness  | 如果用户填写信息不完整，系统要提示用户“信息不完整，请填写完整后再提交” |
| Financing.Identity.Level      | 系统要允许用户选择身份信息透明化程度（身份信息透明化程度定义如下：待定） |
| Financing.Identity.Level      | 用户选择身份信息透明化程度只有，系统要提示用户将要显示的身份信息有哪些 |

#### 3 融资进度查看

##### 3.1特性描述

融资方发起融资标的之后，可以对自己发起的标的进行查看，修改，删除操作。

优先级 = 低

#### 3.2 刺激/响应序列

刺激：融资方发起查看融资进度请求

响应：系统显示该用户所有融资标目录页面

刺激：融资方选择一个融资标的

响应：系统显示该标的的状态信息

刺激：融资方发出终止项目请求

响应：系统判断是否符合终止条件，显示终止代价，弹出“是否继续”选择框

刺激：融资方选择“是”

响应：系统更新数据，回到标的状态信息页面

刺激：融资方选择“否”

响应：系统回到标的状态信息页面

刺激：融资方发出修改项目请求

响应：系统进入修改项目页面

刺激：融资方请求提交修改

响应：判断修改是否符合要求，如符合，弹出“是否继续”选择框；如不符合，则显示相应错误信息，回到修改项目页面

刺激：融资方选择“是”

响应：系统更新数据，回到标的状态信息页面

刺激：融资方选择“否”

响应：系统回到修改项目页面

刺激：融资方发起离开查看融资项目页面请求

响应：系统更新数据，回到主页面

##### 3.3 相关功能需求

| 编号                         | 需求描述                                                     |
| ---------------------------- | ------------------------------------------------------------ |
| Financing.Progress           | 系统要能够提供各个融资项目的融资进度给用户                   |
| Financing.List               | 用户请求查看融资进度时，系统要列举所有属于该用户的融资项目   |
| Financing.Item.Details       | 用户请求查看某一项目的详细信息时，系统要显示该项目的详细信息 |
| Financing.Item.Stop          | 系统要能够允许用户发出终止正在进行的融资项目的请求           |
| Financing.Item.Modify        | 系统要允许用户能够修改融资项目的部分信息（包括：待定）       |
| Financing.Item.Stop.Check    | 用户请求终止当前融资项目时，系统要检查该项目是否满足终止条件 |
| Financing.Update             | 系统要能够更新项目的各项信息                                 |
| Financing.Item.Modify.Commit | 系统在用户提交修改融资项目信息申请后，要将需要进行审核的修改信息递交给审核模块进行审核，不需要进行审核的信息直接通过 |
| Financing.Item.Stop.Cost     | 在用户发出终止某融资项目的请求后，系统要反馈用户终止该项目所需要付出的代价 |

#### 4 查看投资项目

##### 4.1 特性描述

在登录后，一个经过验证的投资方可以查看待投资的项目。

优先级=高

##### 4.2 刺激/响应序列

刺激：投资方点进投资页面

响应：系统显示待投资的项目及其概要信息,

刺激：投资方选择维度对项目进行排序

响应：系统显示该排序下的待投资的项目及其概要信息

刺激：投资方输入关键词搜索相关项目

响应：系统显示相关的待投资项目及其概要信息

刺激：投资方选择一个项目查看详情

响应：系统显示该项目的详细信息

##### 4.3 相关功能需求

| 编号                     | 需求描述                                                     |
| :----------------------- | ------------------------------------------------------------ |
| Search.find              | 在投资方选择关键字、排序方式后（可以只选一个或不选），系统将显示相应的待投资项目及其概要信息 |
| Search.getDetail         | 在投资方选择一个项目后，系统显示该项目的详细信息             |
| Search.getDetail.Invalid | 在选择的项目已结束或不存在时，系统提示该项目已结束或不存在   |

#### 5 进行投资

##### 5.1 特性描述

投资方想要进行投资，投资方选择待投资项目，进行投资。 优先级=高

##### 5.2 刺激/响应序列

刺激：投资方点进项目投资的页面

响应：系统显示项目投资的规定限制

刺激：投资方选择投资金额与交易方式并同意服务协议与风险提示

响应：系统显示投资确认信息

刺激：投资方确认投资信息

响应：系统显示投资成功

刺激：校友用户选择利息方案并选择提交

响应：系统显示投资结果；若校友用户选择0利息方案，系统显示校友投资排行

##### 5.3 相关功能需求

| 编号                                 | 需求描述                                                     |
| ------------------------------------ | ------------------------------------------------------------ |
| Investment.Item.Limit                | 用户发出投资请求后，系统要显示参与投资的限制和规定           |
| Investment.Item.Message              | 在用户输入投资金额及选择交易方式时，系统要对用户进行风险提示 |
| Investment.Update                    | 系统要能够更新投资后的信息，包括项目的金额、投资人信息；投资人的项目信息；校友用户的排行信息 |
| Investment.SchoolFellow.InterestPlan | 系统要允许校友用户选择利息方案                               |
| Investment.SchoolFellow.Leaderboard  | 校友用户选择低利息或0利息方案投资成功后，系统要更新校友回馈母校排行榜 |
| Investment.Item.Transaction          | 系统要允许用户选择交易方式                                   |

#### 6 用户管理

##### 6.1	特性描述

用户管理员完成用户的增删改查
优先级=高

##### 6.2	刺激/响应序列

刺激：管理员输入需要查询的信息

响应：系统返回相关的查询结果（用户列表）

刺激：管理员点击某用户

响应：系统显示用户个人信息

刺激：管理员点击并确认删除

响应：系统删除相关用户

刺激：管理员点击添加并填写完用户信息

响应：系统添加响应用户

刺激：管理员点击并修改用户信息

响应：系统更新用户信息

##### 6.3	相关功能需求

| 编号                 | 需求描述                                     |
| -------------------- | -------------------------------------------- |
| Admin.AddUser        | 管理员添加用户，系统添加相应用户             |
| Admin.UpdateUser     | 管理员更新用户，系统更新相应用户             |
| Admin.Search         | 管理员查询用户，系统返回相应用户列表         |
| Admin.Search.Profile | 管理员查询用户详细信息，系统显示用户详细信息 |
| Admin.DeleteUser     | 管理员删除用户，系统删除相应用户             |

#### 7 项目审核

##### 7.1 特性描述

当有项目申请提交时，一个经过验证的管理员，可以查阅、通过、退回或删除单据。

优先级=高

##### 7.2 响应序列

刺激：管理员选择审核项目

响应：系统显示待审核项目列表

刺激：管理员请求查看指定项目

响应：系统显示项目详细信息

刺激：管理员选择通过

响应：系统更新相关数据，发送消息到项目申请者，并从待审核项目列表移出所选项目，加入募集中项目列表

刺激：管理员选择退回

响应：系统显示退回理由框

刺激：管理员输入退回理由并确认

响应：系统更新相关数据，发送消息到项目申请者，提醒其重新修改，并从待审核项目列表移出所选项目

刺激：管理员选择删除

响应：系统更新相关数据，发送消息到项目申请者，并从待审核项目列表移出项目单据

刺激：管理员请求刷新

响应：系统更新待审核项目列表

##### 7.3 相关功能需求

| 编号                   | 需求描述                                                     |
| ---------------------- | ------------------------------------------------------------ |
| Examine.Open           | 在管理员请求查看待审核项目时，系统显示待审核项目列表         |
| Examine.Check          | 在管理员请求查看指定项目时，系统返回单据详细信息，并在单据列表中，标记为“已阅”状态 |
| Examine.Check.Close    | 系统允许管理员结束查看，返回待审核项目列表                   |
| Examine.Pass           | 系统允许管理员通过项目                                       |
| Examine.Pass.Update    | 系统更新项目相关数据与项目列表                               |
| Examine.Pass.Inform    | 系统发送消息通知项目申请者项目通过                           |
| Examine.Untread        | 系统允许管理员退回项目                                       |
| Examine.Untread.Update | 系统更新项目列表                                             |
| Examine.Untread.Inform | 系统发送消息通知项目申请者项目被退回                         |
| Examine.Delete         | 系统允许管理员删除项目                                       |
| Examine.Delete.Update  | 系统更新项目列表                                             |
| Examine.Delete.Inform  | 系统发送消息通知项目申请者项目被删除                         |
| Examine.Refresh        | 结束单据通过/退回/删除项目后，或用户选择刷新时，返回更新后的待审核列表 |

#### 8 项目管理

##### 8.1 特性描述

一个经过验证的管理员能够对目前系统中的所有融资项目进行管理，包括修改项目信息、查询项目信息等操作

##### 8.2 响应序列

刺激：管理员请求查看所有标的

响应：系统显示所有标的

刺激：管理员输入关键字对标的进行搜索

响应：系统显示搜索结果

刺激：管理员选择某标的查看详细信息

响应：系统显示该标的详细信息

刺激：管理员对某标的信息进行修改后请求提交

响应：系统对修改的信息进行正确性检查，如果通过则更新标的信息，如果不通过则提示管理员错误填写的地方

##### 8.3 相关功能需求

| 编号                       | 需求描述                                                     |
| -------------------------- | ------------------------------------------------------------ |
| Admin.Project.All          | 管理员请求查看系统中所有标的时，系统要列举所有标的的简略信息（保持和投资页面的一致） |
| Admin.Search               | 系统要允许管理员输入关键字进行标的的模糊查找                 |
| Admin.Project.Details      | 系统要能够显示某一标的的详细信息                             |
| Admin.Project.Modify       | 系统要能够允许管理员对标的的某些信息进行修改                 |
| Admin.Project.Modify.Check | 系统要对管理员对标的信息进行的修改做检查，检查的内容包括：标的信息是否完整，融资金额是否在规定区间之内 |

#### 9 算法选择

待定

#### 10 个人信息完善

##### 10.1 特性描述

用户想要进行个人信息完善（已有初级账户，进一步身份认证）。

##### 10.2 刺激/响应序列

刺激：用户申请中级账号，已经拥有初级账号

响应：系统给出申请中级账号的要求（学生身份验证、校园卡绑定）

刺激：用户提供校园卡正面照片、学生证照片

响应：系统提示申请已提交，等待审核

刺激：用户申请完整账号，已经拥有中级账号

响应：系统给出申请完整账号的要求（完成支付宝、银行卡消费数据提供、手持身份证验证以及关系网络评级验证、其它非结构化数据如专业等提交【待定】）

刺激：用户完成支付宝、银行卡消费数据提供、手持身份证验证以及关系网络评级验证、其它非结构化数据如专业等提交【待定】

响应：系统提示申请已提交，等待审核

刺激：用户申请校友账号，已有初级账号

响应：系统给出申请校友账号的要求（上传毕业证书）

刺激：用户上传毕业证书照片并提交

响应：系统提示申请已提交，等待审核

刺激：用户申请完整账号，但只有初级账号

系统：提示用户必须先完成中级身份认证，提供中级身份认证需要

刺激：用户已有完整账号，申请中级账号

系统：提示已经完成中级账户验证，无需进行任何操作

##### 10.3 相关功能需求

（这个写了又删又写……可能有点不对）

|                                              |                                                              |
| -------------------------------------------- | ------------------------------------------------------------ |
| Logging.Levelup.Request.Intermediate         | 用户申请中级账户，系统给出申请要求                           |
| Logging.Levelup.Request.Intermediate.Invalid | 用户已有完整账号，申请中级账号，系统提示已经完成中级账户验证，无需进行任何操作 |
| Logging.Levelup.Request.Complete             | 用户申请完整账户，系统给出申请要求                           |
| Logging.Levelup.Request.Complete.Invalid     | 用户申请完整账号，但只有初级账号，系统提示用户必须先完成中级身份认证，提供中级身份认证需要 |
| Logging.Levelup.Request.Alumni               | 用户申请校友账户，系统给出申请要求                           |
| Logging.Levelup.Commit.Intermediate          | 用户提供申请中级账户材料，系统提示申请已提交，交付给审核处等待审核 |
| Logging.Levelup.Commit.Complete              | 用户提供申请完整账户材料，系统提示申请已提交，交付给审核处等待审核 |
| Logging.Levelup.Commit.Alumni                | 用户提供申请校友账户材料，系统提示申请已提交，交付给审核处等待审核 |

