# 交互进度

| 交互名称       | 前端负责人 | 交互完成情况  | 交互测试情况 | 后端负责人 | Controller是否完成 | Service逻辑处理是否完成 | DAO层、数据库层是否完成 |
| ---------- | ----- | ------- | ------ | ----- | -------------- | --------------- | ------------- |
| **用户管理**   |       |         |        |       |                |                 |               |
| 查看用户列表信息   | 唐佳未   | 是       | 是      | 许杨    | 是              | 是               | 是             |
| 查看用户详情     | 唐佳未   | 是       | 是      | 许杨    | 复用已有代码         | 复用已有代码          | 复用已有代码        |
| 用户信息审核     | 林宇超  | 是       | 是      | 许杨    | 是              | 是               | 是             |
| **标的管理**   |       |         |        |       |                |                 |               |
| 标的管理       | 欧阳鸿荣  | 是       | 是      | 许杨    | 是              | 是               | 是             |
| 标的审核       | 欧阳鸿荣  | 是       | 是      | 许杨    | 是              | 是               | 是             |
| **数据统计**   |       |         |        |       |                |                 |               |
| 后台数据统计     | 欧阳鸿荣  | 是       | 是      | 许杨    | 是              | 是               | 是             |
| **借款还款**   |       |         |        |       |                |                 |               |
| 小额借款       | 王轩    | 是       | 是      | 廖均达   | 是              | 是               | 是             |
| 大额借款       | 王轩    | 否       | 否      | 廖均达   | 是              | 是               | 是             |
| 还款详情       | 王轩    | 否       | 否      | 廖均达   | 是              | 是               | 是             |
| 借款管理的项目信息  | 王轩    | 是       | 是      | 廖均达   | 是              | 是               | 是             |
| 投资管理的项目信息  | 王轩    | 否       | 否      | 廖均达   | 否              | 否               | 是             |
| **投资**     |       |         |        |       |                |                 |               |
| 投资项目概要信息显示 | 林宇超   | 是       | 是      | 廖均达   | 是              | 是               | 是             |
| 查看项目产品概要   | 林宇超   | 是（图片路径) | 是      | 廖均达   | 是              | 是               | 是             |
| 借款人信息      | 唐佳未   | 是       | 是      |       | 复用             | 复用              | 复用            |
| 投标记录       | 唐佳未   | 是       | 是      | 廖均达   | 是              | 是               | 是             |
| **账户总览**   |       |         |        |       |                |                 |               |
| 借款投资部分     | 欧阳鸿荣  | 是       | 是      | 唐佳未   | 是              | 是               | 是             |
| 账户总额       | 欧阳鸿荣  | 是       | 是      | 唐佳未   | 是              | 是               | 是             |
| TODO列表     | 欧阳鸿荣  | 是       | 是      | 许杨    | 是              | 是               | 是             |
| **校友表现**   |       |         |        |       |                |                 |               |
| 雷达图        | 欧阳鸿荣  | 是       | 是      | 许杨    | 是              | 是               | 是             |
| 信息表        | 欧阳鸿荣  | 是       | 是      | 许杨    | 是              | 是               | 是             |
| 校园关系图      | 欧阳鸿荣  | 是       | 是      | 许杨    | 是              | 是               | 是             |
| **财务状况**   |       |         |        |       |                |                 |               |
| 数值分析       | 欧阳鸿荣  | 是       | 是      | 许杨    | 是              | 是               | 是             |
| 趋势分析       | 欧阳鸿荣  | 是       | 是      | 许杨    | 是              | 是               | 是             |
| 比例分析       | 欧阳鸿荣  | 是       | 是      | 许杨    | 是              | 是               | 是             |
| **财务建议**   |       |         |        |       |                |                 |               |
| 消费修正建议     | 欧阳鸿荣  | 是       | 否      | 廖均达   | 是              | 是               | 是             |
| 结余预测       | 欧阳鸿荣  | 是       | 否      | 廖均达   | 否              | 否               | 否             |
| **基本信息**   |       |         |        |       |                |                 |               |
| 个人资料       | 欧阳鸿荣  | 是       | 是      | 唐佳未   | 是              | 是               | 是             |
| 修改资料       | 欧阳鸿荣  | 是       | 是      | 唐佳未   | 是              | 是               | 是             |
| 安全服务       | 欧阳鸿荣  | /       | /      | 林宇超   | /              | /               | /             |
| **信用验证**   |       |         |        |       |                |                 |               |
| 学生校园验证     | 唐佳未   | 是       | 是      | 唐佳未   | 是              | 是               | 是             |
| 校友校园验证     | 唐佳未   | 是       | 是      | 许杨    | 是              | 是               | 是             |
| 财务验证-高级账户  | 林宇超   | 否       | 否      | 林宇超   |                |                 |               |
| 财务验证-个性信息  | 唐佳未   | 是       | 是      | 许杨    | 是              | 是               | 是             |
| 交叉检验       | 唐佳未   | 是       | 是      | 唐佳未   | 是              | 是               | 是             |
| **二手交易**   |       |         |        |       |                |                 |               |
| 交易上传       | 林宇超   | 是       | 是      | 林宇超   | 是              | 是               | 是             |
| 交易正在进行     | 林宇超   | 是       | 是      | 林宇超   | 是              | 是               | 是             |
| 交易已完成      | 林宇超   | 是       | 是      | 林宇超   | 是              | 是               | 是             |
| **失物招领**   |       |         |        |       |                |                 |               |
| 信息发布       | 林宇超   | 是       | 是      | 林宇超| 是              | 是               | 是             |
| 信息大厅       | 林宇超   | 是       | 是      | 林宇超   | 是              | 是               | 是             |
| 查看正在进行和已完成 | 林宇超   | 是       | 是      | 林宇超   | 是              | 是               | 是             |
| **基本功能**   |       |         |        |       |                |                 |               |
| 登录         | 石轶凡   | 是       | 是      | 林宇超   | 是              | 是               | 是             |
| 注册         | 石轶凡   | 是       | 否      | 林宇超   | 是              | 是               | 是             |
| 信息通知       | 石轶凡   | 否       | 否      |       |                |                 |               |

## 用户管理

### 查看用户详情

使用已有的交互即可（直接复用）：

1、查看个人投资历史
2、查看个人借款标的
3、查看个人财务情况

### 获取待审核用户列表

```json
Url:”admin/userlist”                          
method:GET

param{

  "page" : 1,
  "pageSize" : 20,
}

Return{ 
                                                
	“username”:”username”,   		//用户名
	“checkstate”:”CheckState”, 		//用户审核状态
} 
```

### 审核用户非结构化信息

```json
Url:”admin/userpendingitem”       
method:GET

param{

	“username”:”username”,  		//用户名
}

Return{

	“files”:[
		{“name”:”str”,      		//图片条目名称
		 “mes”:"str",				//用户图片描述
		 “pics”:file  ,             //图片           
		}]
}
```

### 用户信息审核结果(这部分不太确定)

```json
url : "admin/usercheck"         
method : GET

param{

    "username" : “str”,
    "pass" : true
}

return{

    "state" : "state",
    "message" : "null|str"
}
```

## 标的管理

### 标的管理

```json
url : "admin/investManager"        //获取标的列表，分页显示

method : GET

param
{
	"page" : 1,
	"pageSize" : 20,
	"targetType" : “TargetType”,
	"targetState" : "targetState",
}

Return                           //标的简介
[
    {
    	"targetId" : 1, //标的编号
        "username" : "str",	//借款用户
        "username" : "str", //投资用户
        "creditRating" : "credit_rating",
    },
]



url : "admin/targetManageItem"  //标的详情

method : GET

param
{
    "target_id" : 0,
}

Return                           //标的详情
{
    "username" : "str",
    "startTime" : "formal",
    "endTime" : "formal",
    "money" : 0.0,
    "receivedMoney" : 0.0,
    "explanation" : "str", 
    "targetState" : "targetState",
    "incomeSituation" : "str", 
    "targetRating" : "target_rating",  
    "risk" : "str",
    "returnSolution" : "str", //还款方案
    "remarks" : "str"
}

url : "admin/targetcheck"        //标的审核结果

method : SET

param
{
    "targetId" : 0,
    "state" : "state",
    "message" : "null | str"
}

return
{
}
```

### 获取待审核标的列表

```json
Url:”admin/pendinglist”                          
method:GET

param{

  "page" : 1,
  "pageSize" : 20,
}

Return{   

	“time”:"2018-08-06"  			//标的提交时间                                            
	“targetname”:”targetname”,  	//标的名称
	“targetState”:”TargetState”, 	//标的审核状态
} 
```

### 标的审核

```json
url : "admin/targetpendingitem"  	
method : GET

param{

    "target_id" : 0,				//标的编号
}

Return {

	"username":"username"，			//用户名称
    "risk" : "str"，					//风险评级
	"CheckState":"CheckState",		//用户非结构化信息审核情况 

	“taget_id”:0,					//项目编号
	"name" : "str",					//标的名称
    "startTime" : "formal",			//开始时间
    "endTime" : "formal",			//结束时间

	“classify”:"str",				//资金用途分类
	"explanation" : "str", 			//资金用途详述
	“pics”:file,					//凭证

    "money" : 0.0,					//金额
    "creditRating"："credit_rating",	//利率
    "returnTime" : "formal",  		//还款日期
	“returntype”:"str",				//还款方式
}

checkState:"UPDATE"
//classify:"DAILY_EXPENSE"
completionRate:80
creditRating:5.55
duration:3
//endTime:"2019-01-08"
//explanation:"鞋帽服饰"
//grade:"A"
identityOption:"ONE"
//money:1800
//name:"哈哈哈哈哈"
proof:"proof path"
//returntype:"PRE_INTEREST"
//startTime:"2018-06-10"
//targetId:1
//username:"test"



/*UPDATE 2018/10/30*/
/*我尝试着对号入座，然而QAQ对不大上，发现上面的那些就是他的，但是，为啥都被注释了。我甚至怀疑是牛皓月小姐姐的标本被。。覆盖了或忘记push了*/
time:'2018-08-06',//提交时间？？
name: i.name,//项目名称
state: 1,//当前状态,待审核啥的。。
action:'',//unused，表理他就行
username:i.username,//用户名
risk:i.grade,//风险评级
userstate:'已通过',//checkState?非结构化信息审核情况
projectid: i.targetId,//项目编号
startTime: i.startTime,//项目名称
endTime: i.endTime,//结束时间
classify:i.classify,//资金用途分类
desc: i.explanation,//资金用途详述
money: i.money,//拆借金额
rate: '10%',//还款利率
repayDate:'2018-9-25',//还款日期
returntype: i.returntype,//还款方式
pics: '../../static/pic/小额1.png',//凭证路径
```

### 标的审核结果（这部分不太确定）

```json
url : "admin/targetcheck"        
method : GET

param{

    "targetId" : 0,
    "pass" : true
}

return{

    "state" : "state",
    "message" : "null|str"
}
```

## 数据统计

### 后台数据统计

```json  
url :  
method : GET  
  
param{  
//所有用户的后台数据相同
}  

averageGoingTime:"14.33天" 
borrowerNum:"0"				
dealMoneySum:"0.00"
dealNum:"0"
investmentPerPerson:"/"
investorNum:"0"
loanPerPerson:"11600.00"
loanPerTarget:"3866.67"
most10LoanPersonRate:"/"
mostLoanPersonRate:"101.72%"

'平均满标时间'averageGoingTime:"14.33天" 
'借款人数量':borrowerNum:"0"				 
'交易总额':dealMoneySum:"0.00"
'交易总笔数':dealNum:"0"
'人均累计投资额度'investmentPerPerson:"/"
'投资人数量'investorNum:"0"
'人均累计借贷额度':loanPerPerson:"11600.00"
'笔均借款额度':loanPerTarget:"3866.67"
'最大10户借款余额占比':most10LoanPersonRate:"/"
'最大单客户借款余额占比':mostLoanPersonRate:"101.72%"

return {  
tableData: [{  
  total: '交易总额',  
  total_num: '25600',  
  average: '人均累计借贷额度',  
  average_num:'610',  
  other:'最大单客户借款余额占比',  
  other_num:'12%'  
}, {  
  total: '交易总笔数',  
  total_num: '42',  
  average: '笔均借款额度',  
  average_num:'610',  
  other:'最大10户借款余额占比',  
  other_num:'57%'  
}, {  
  total: '借款人数量',  
  total_num: '42',  
  average: '人均累计投资额度',  
  average_num:'406',  
  other:'平均满标时间',  
  other_num:'21天'  
},{  
  total: '投资人数量',  
  total_num: '63',  
  average: '',  
  average_num:'',  
  other:'',  
  other_num:''  
}],  

    
    
tableData2: [{  
  default_name1: '累计违约率',  
  default_num1: '4.76%',  
  default_name2: '逾期项目数',  
  default_num2:'2',  
  default_name3:'项目逾期率',  
  default_num3:'0'  
},  
  {  
    default_name1: '近三月项目逾期率',  
  default_num1: '4.76%',  
  default_name2: '借款逾期金额',  
  default_num2:'800',  
  default_name3:'待偿金额',  
  default_num3:'0'  
  },  
  {  
    default_name1: '借贷金额逾期率',  
  default_num1: '4.76%',  
  default_name2: '借贷坏账率',  
  default_num2:'930',  
  default_name3:'客户投诉情况',  
  default_num3:'0'  
  }],
}  
```

## 借款

### 得到基准（推荐）利率

```json
url:"loan/rate"
method:GET

return{
    "rate" : "double"
}
```

### 得到借款利率上下限

```json
url : "loan/rateRange"
method : GET

return {
    "lower" : "double",
    "upper" : "double"
}
```

### 得到借款期限建议范围

```json
url : "loan/timeRange"
method : GET

param {
    "money" : "double"
}

return {
    "lower" : "int",
    "upper" : "int"
}
```

### 得到还款方案详细数据

| url                 | 说明          |
| ------------------- | ----------- |
| loan/repayment/ep   | 等额本金具体数据    |
| loan/repayment/eipi | 等额本息具体数据    |
| loan/repayment/otp  | 一次性还付本息具体数据 |
| loan/repayment/pi   | 先息后本具体数据    |

#### 参数

| 名称           | 说明   |
| ------------ | ---- |
| money        | 借款金额 |
| duration     | 借款期限 |
| interestRate | 借款利率 |

#### 返回值

| 名称          | 说明                              |
| ----------- | ------------------------------- |
| interest    | 总利息                             |
| sum         | 还款总额                            |
| difficulty  | 还款难度，double类型，难度百分比             |
| monthlyData | 每月还款数据（参见下表），返回形式为按照时间维度升序排列的列表 |
| note        | 还款注意事项（参见下表）                    |

#### monthlyData 说明

| 名称                 | 说明    |
| ------------------ | ----- |
| sum                | 该月本息和 |
| interest           | 该月利息  |
| principal          | 该月本金  |
| remainingPrincipal | 剩余本金  |

#### note 说明

| 名称                  | 说明                                       |
| ------------------- | ---------------------------------------- |
| exceedSurplus       | 是否有超出结余                                  |
| exceedSurplusMonths | 超出结余的具体月份列表，若没有超过结余，则此项为null             |
| exceedDisc          | 超过结余后是否超过可调部分                            |
| discRatios          | 可调整支出分类占比列表：[衣物饰品 a%, 饮食 b%, 住宿 c% ,娱乐消费 d%]，结余未超出则为null |
| income              | 需要有额外收入的月份列表，可调未超出则为null                 |

#### Json 示例

```json
url : "loan/repayment/ep"
url : "loan/repayment/eipi"
url : "loan/repayment/otp"
url : "loan/repayment/pi"

method : GET

param {
    "money" : "double",
    "duration" : "int",
    "interestRate" : "double"
}

return {
    "interest" : "double",
    "sum" : "double",
    "difficulty" : "double",
    "monthlyData" : [
        {
            "sum" : "double",
            "principal" : "double",
            "interest" : "double",
            "remainingPrincipal" : "double"
        }
    ],
    "note" : {
        "exceedSurplusMonths" : ["int", "int"],
        "discRatios" : ["double", "double", "double", "double"]
        "income" : ["int", "int", "int"]
    }
}
```

### 消费类小额短期借款

```json

      url:"loan/borrow1”

      method :GET

      param{

      "name "  "test"

      "startTime" : "2018-9-10"，'money" : 2000.，

      " projectDescription" : "lalalalala"，

      "proof" : "static/images/upload/test . jpg"”username" : ' str ",

      "targetType" : "str",completoinRate" : 68.,
      
      "interestRate" : 12,
      
      "duration" : 1B,

      "useOfFunds" : "鞋帽 服饰”,
      
      " identityOption" : "ONE ”,

      repaymentType" : "EQUAL_ PRINCIPAL"
      
      }

      return{

      "success" : true,
      
      "message" : null
      
      }
```


## 还款

### 项目信息

| URL                 | 说明     | Method |
| ------------------- | ------ | ------ |
| loan/repayment/info | 获得还款信息 | GET    |

#### 请求参数

| 参数名      | 类型   | 说明   |
| -------- | ---- | ---- |
| targetId | Long | 项目id |

#### 响应参数

| 参数名                 | 类型      | 说明          |
| ------------------- | ------- | ----------- |
| releaseDate         | Date    | 发布时间        |
| recruitmentDeadline | Date    | 募集借款截止日期    |
| nextDueDate         | Date    | 下个还款日       |
| remainingDay        | Integer | 距离下次还款日的天数  |
| repay               | Double  | 下次应还金额      |
| unrepaidProportion  | Double  | 未还款占比       |
| purpose             | String  | 资金用途分类，取值待定 |
| projectDescription  | String  | 项目描述        |

#### Json 示例

```json
request
{
    "targetId" : 12314232
}

response
{
    "releaseDate" : "2018-9-10",
    "recruitmentDeadline" : "2018-9-20",
    "nextDueDate" : "2018-10-20",
    "remainingDay" : 35,
    "repay" : 100.0,
    "unrepaidProportion" : 25.0,
    "purpose" : "LEARNING",
    "projectDescription" : "买了文具和笔"
}
```

### 违约情况

| URL                    | 说明       | Method |
| ---------------------- | -------- | ------ |
| loan/repayment/default | 获得违约情况记录 | GET    |

#### 响应参数

| 参数名              | 类型      | 说明        |
| ---------------- | ------- | --------- |
| repayDate        | Date    | 应还日期      |
| actualDate       | Date    | 实际还款日期    |
| currentAmountDue | Double  | 当前应还金额    |
| overdueDays      | Integer | 逾期天数      |
| overdueFine      | Double  | 违约金       |
| state            | String  | 当前状态，取值待定 |

#### Json 示例

```json
[
    {
        "repayDate" : "2018-9-10",
        "actualDate" : "2018-9-12",
        "currentAmountDue" : 2000.0,
        "overdueDays" : 12,
        "overdueFine" : 50.0,
        "state" : "OVER"
    }
]
```

### 还款分析

| URL                     | 说明             | Method |
| ----------------------- | -------------- | ------ |
| loan/repayment/analysis | 个人中心->还款->还款分析 | GET    |

#### 请求参数

| 参数名      | 类型     | 说明   |
| -------- | ------ | ---- |
| targetId | number | 标的id |



#### 响应参数

| 参数名           | 类型      | 说明           |
| ------------- | ------- | ------------ |
| date          | List    | 时间轴的时间       |
| action        | List    | 动作列表         |
| action.state  | String  | 还款的状态，具体取值待定 |
| action.date   | Date    | 还款发生的时间      |
| action.period | Integer | 还款对应的期数      |
| action.money  | Double  | 还款金额         |
| repaymentType | String  | 还款方式，取值见下表   |
| difficulty    | Double  | 难度，百分比形式     |

#### repaymentType 取值说明

| 取值                                       | 说明      |
| ---------------------------------------- | ------- |
| EQUAL_PRINCIPAL                          | 等额本金    |
| EQUAL_INSTALLMENT_OF_PRINCIPAL_AND_INTEREST | 等额本息    |
| ONE_TIME_PAYMENT                         | 一次性还付本息 |
| PRE_INTEREST                             | 先息后本    |

#### Json 示例

```json
url : "loan/repayment/analysis"
{
    "repaymentType" : "PRE_INTEREST",
    "difficulty" : 80.,
   
    "timeline" : [
        {
            "state" : "normal|overdue|time",
            "date" : "2018-9-20",
            "period" : 1,
            "money" : 2000.0，
            "targetId" : 289182
        }
    ]
}
```



## 个人中心

### 借款项目信息-正在进行

| URL                          | Method |
| ---------------------------- | ------ |
| profile/loanTargets/underway | GET    |

##### 响应参数

| 参数名        | 类型     | 说明     |
| ---------- | ------ | ------ |
| totalMomey | string | 项目金额范围 |
| totalTime  | string | 项目时间范围 |
| state      | string | 项目状态   |

#### totalMomey 取值说明

| 取值     | 说明              |
| ------ | --------------- |
| ""     | 表示范围是“全部”       |
| first  | 表示范围是(0,100)    |
| second | 表示范围是[100,500)  |
| third  | 表示范围是[500,1000) |
| forth  | 表示范围是[1000,上限]  |



#### totalTime 取值说明

| 取值     | 说明         |
| ------ | ---------- |
| ""     | 表示范围是“全部”  |
| first  | 表示范围是15天内  |
| second | 表示范围是1个月内  |
| third  | 表示范围是6个月内  |
| forth  | 表示范围是6个月以上 |



#### state 取值说明

| 取值     | 说明        |
| ------ | --------- |
| ""     | 表示范围是“全部” |
| first  | 表示范围是正在还款 |
| second | 表示范围是转让审核 |



#### Json 示例

```json
url : "profile/loanTargets/underway"
request{
  "totalMoney":"first",
  "totalTime":"first",
  "state":"first"
}

return[
  {
    "name":"托福考试借款项目",
    "date":"2018/9/1",//发布日期
    "year_rate":"9",//年利率9%，返回值写9还是0.09还是"9%"?
    "num":"8"//待还期数
    "principal_and_interest":2682,//待还本息
    "next_return":"2018/10/1",//下个还款日
    "money":300//还款日待还金额
    
}
]
```



### 借款项目信息-已完成

| URL                          | Method |
| ---------------------------- | ------ |
| profile/loanTargets/complete | GET    |

##### 响应参数

| 参数名        | 类型     | 说明     |
| ---------- | ------ | ------ |
| totalMomey | string | 项目金额范围 |
| totalTime  | string | 项目时间范围 |
| state      | string | 项目状态   |

#### totalMomey 取值说明

| 取值     | 说明              |
| ------ | --------------- |
| ""     | 表示范围是“全部”       |
| first  | 表示范围是(0,100)    |
| second | 表示范围是[100,500)  |
| third  | 表示范围是[500,1000) |
| forth  | 表示范围是[1000,上限]  |



#### totalTime 取值说明

| 取值     | 说明         |
| ------ | ---------- |
| ""     | 表示范围是“全部”  |
| first  | 表示范围是15天内  |
| second | 表示范围是1个月内  |
| third  | 表示范围是6个月内  |
| forth  | 表示范围是6个月以上 |



#### state 取值说明

| 取值     | 说明        |
| ------ | --------- |
| ""     | 表示范围是“全部” |
| first  | 表示范围是正在还款 |
| second | 表示范围是转让审核 |



#### Json 示例

```json
url : "profile/loanTargets/complete"
request{
  "totalMoney":"first",
  "totalTime":"first",
  "state":"first"
}

return[
  {
    "name":'参加托福培训',
    "money":6000,//借款总金额
    "year_rate":'3.21%',
    "start_to_end":'2018/2/23-2018/7/31',//起止时间
    "state":"已结束"//项目状态
    
}
]
```



### 借款项目信息-已发布

| URL                          | Method |
| ---------------------------- | ------ |
| profile/loanTargets/launched | GET    |

##### 响应参数

| 参数名        | 类型     | 说明     |
| ---------- | ------ | ------ |
| totalMomey | string | 项目金额范围 |
| totalTime  | string | 项目时间范围 |
| state      | string | 项目状态   |

#### totalMomey 取值说明

| 取值     | 说明              |
| ------ | --------------- |
| ""     | 表示范围是“全部”       |
| first  | 表示范围是(0,100)    |
| second | 表示范围是[100,500)  |
| third  | 表示范围是[500,1000) |
| forth  | 表示范围是[1000,上限]  |



#### totalTime 取值说明

| 取值     | 说明         |
| ------ | ---------- |
| ""     | 表示范围是“全部”  |
| first  | 表示范围是15天内  |
| second | 表示范围是1个月内  |
| third  | 表示范围是6个月内  |
| forth  | 表示范围是6个月以上 |



#### state 取值说明

| 取值     | 说明        |
| ------ | --------- |
| ""     | 表示范围是“全部” |
| first  | 表示范围是正在还款 |
| second | 表示范围是转让审核 |



#### Json 示例

```json
url : "profile/loanTargets/launched"
request{
  "totalMoney":"first",
  "totalTime":"first",
  "state":"first"
}

return[
  {
    "name":'购买天文望远镜',
    "money":2000,
    "year_rate":'4.9%',
    "launch_date":'2018/6/23',//发布时间
    "state":'审核通过待处理'//项目状态
    
}
]
```





### 借款项目信息-违约记录

| URL                              | Method |
| -------------------------------- | ------ |
| profile/loanTargets/unbelievable | GET    |

##### 响应参数

| 参数名        | 类型     | 说明     |
| ---------- | ------ | ------ |
| totalMomey | string | 项目金额范围 |
| totalTime  | string | 项目时间范围 |
| state      | string | 项目状态   |

#### totalMomey 取值说明

| 取值     | 说明              |
| ------ | --------------- |
| ""     | 表示范围是“全部”       |
| first  | 表示范围是(0,100)    |
| second | 表示范围是[100,500)  |
| third  | 表示范围是[500,1000) |
| forth  | 表示范围是[1000,上限]  |



#### totalTime 取值说明

| 取值     | 说明         |
| ------ | ---------- |
| ""     | 表示范围是“全部”  |
| first  | 表示范围是15天内  |
| second | 表示范围是1个月内  |
| third  | 表示范围是6个月内  |
| forth  | 表示范围是6个月以上 |



#### state 取值说明

| 取值     | 说明        |
| ------ | --------- |
| ""     | 表示范围是“全部” |
| first  | 表示范围是正在还款 |
| second | 表示范围是转让审核 |



#### Json 示例

```json
url : "profile/loanTargets/unbelievable"
request{
  "totalMoney":"first",
  "totalTime":"first",
  "state":"first"
}

return[
  {
    "name":'ACCA考试借款项目',
    "money":3600,
    "service_money":0.144,//违约服务费
    "occurrence_date":'2018/9/27',//违约发生日期
    "days":2,//违约天数
    "details":'逾期',//违约详情
    "state":'已处理'//当前状态
    
}
]
```



### 投资项目信息-正在进行

| URL                            | Method |
| ------------------------------ | ------ |
| profile/investTargets/underway | GET    |

##### 响应参数

| 参数名        | 类型     | 说明     |
| ---------- | ------ | ------ |
| totalMomey | string | 项目金额范围 |
| totalTime  | string | 项目时间范围 |
| state      | string | 项目状态   |

#### totalMomey 取值说明

| 取值     | 说明              |
| ------ | --------------- |
| ""     | 表示范围是“全部”       |
| first  | 表示范围是(0,100)    |
| second | 表示范围是[100,500)  |
| third  | 表示范围是[500,1000) |
| forth  | 表示范围是[1000,上限]  |



#### totalTime 取值说明

| 取值     | 说明         |
| ------ | ---------- |
| ""     | 表示范围是“全部”  |
| first  | 表示范围是15天内  |
| second | 表示范围是1个月内  |
| third  | 表示范围是6个月内  |
| forth  | 表示范围是6个月以上 |



#### state 取值说明

| 取值     | 说明        |
| ------ | --------- |
| ""     | 表示范围是“全部” |
| first  | 表示范围是正在还款 |
| second | 表示范围是转让审核 |



#### Json 示例

```json
url : "profile/investTargets/underway"
request{
  "totalMoney":"first",
  "totalTime":"first",
  "state":"first"
}

return[
  {
    "projectName": '考托福',
    "loanFrom": '南一号',//借款人
    "loanDate": '2018/1/11',//开始日期
    "investAmount": 300,//投标金额
    "num":"3"//还款期数
    "interest": '1.03%',//利率
    "repayAmountMonth":27.25,//每月还款金额
    "deadlineDate":'2019/1/11',//最后还款日期
    "deadlineAmount":327,//到期还款总金额
    "state":'转让审核中',//状态
    
}
]
```



### 投资项目信息-已完成

| URL                            | Method |
| ------------------------------ | ------ |
| profile/investTargets/complete | GET    |

##### 响应参数

| 参数名        | 类型     | 说明     |
| ---------- | ------ | ------ |
| totalMomey | string | 项目金额范围 |
| totalTime  | string | 项目时间范围 |
| state      | string | 项目状态   |

#### totalMomey 取值说明

| 取值     | 说明              |
| ------ | --------------- |
| ""     | 表示范围是“全部”       |
| first  | 表示范围是(0,100)    |
| second | 表示范围是[100,500)  |
| third  | 表示范围是[500,1000) |
| forth  | 表示范围是[1000,上限]  |



#### totalTime 取值说明

| 取值     | 说明         |
| ------ | ---------- |
| ""     | 表示范围是“全部”  |
| first  | 表示范围是15天内  |
| second | 表示范围是1个月内  |
| third  | 表示范围是6个月内  |
| forth  | 表示范围是6个月以上 |



#### state 取值说明

| 取值     | 说明        |
| ------ | --------- |
| ""     | 表示范围是“全部” |
| first  | 表示范围是正在还款 |
| second | 表示范围是转让审核 |



#### Json 示例

```json
url : "profile/investTargets/complete"
request{
  "totalMoney":"first",
  "totalTime":"first",
  "state":"first"
}

return[
  {
    "projectName": '买相机', 
    "loanFrom": '南五号', //借款人
    "startEndDate": '2018/3/4-2018/6/30',//项目起止时间
    "investAmount": 500, //投标金额
    "interest": '8.5%', //利率
    "state":'已结束', //项目状态
    "get":10.62//项目收益额
    
}
]
```



### 投资项目信息-收藏项目

| URL                           | Method |
| ----------------------------- | ------ |
| profile/investTargets/collect | POST   |



#### Json 示例

```json
url : "profile/investTargets/collect"

return[
  {
    "projectName": '看舞剧', 
    "loanFrom": '南四号', //借款人
    "startEndDate": '2018/9/30',//筹资截止日期
    "investAmount": 300, //可投金额
    "interest": '10%',//预计年收益
    "num":7, //还款期数
    "state":'筹资中', //状态
    "trust":'90(AA),//借款人信用分
    
}
]
```



### 投资项目信息-坏账记录

| URL                       | Method |
| ------------------------- | ------ |
| profile/investTargets/bad | GET    |

##### 响应参数

| 参数名       | 类型     | 说明     |
| --------- | ------ | ------ |
| lostMoney | string | 损失金额范围 |
| state     | string | 项目状态   |

#### lostMomey 取值说明

| 取值     | 说明             |
| ------ | -------------- |
| ""     | 表示范围是“全部”      |
| first  | 表示范围是(0,100)   |
| second | 表示范围是[100,500) |
| third  | 表示范围是[500,上限]  |



#### state 取值说明

| 取值     | 说明        |
| ------ | --------- |
| ""     | 表示范围是“全部” |
| first  | 表示范围是正在追回 |
| second | 表示范围是已结束  |



#### Json 示例

```json
url : "profile/investTargets/bad"
request{
  "lostMoney":"first",
  "state":"first"
}

return[
  {
    "projectName": '买iPhone', 
    "loanFrom": '南九号', //借款人
    "badStartDate": '2018/1/1',//坏账发生日期
    "investAmount": 300, //投标金额
    "lossAmount": 100, //损失金额
    "state":'正在追回',//状态
    
}
]
```

## 投资

### 投资项目概要信息显示

说明：

- 在没有按照维度进行排序的情况下，系统返回的是推荐的结果

```json
url : "investment/all"
method : GET

param  // 项目的排序维度，不需要过滤的维度传值null
{
    "target_type" : "target_type",
    "start_time" : "formal",
    "end_time" : "formal",
    "target_rating" : "target_rating"，
    "progress" : 0.0,  // 完成度
    "money" : 0.0,
    "yield" : 0.0, // 收益率
    "descent" : bool  // 是否降序
}

return
[
    {
        "name" : "str", // 申请人姓名
        "credit_rating" : "credit_rating",
        "target_type" : "target_type",
        "target_id" : 0
    },
    {
        "name" : "str",
        "credit_rating" : "credit_rating",
        "target_type" : "target_type",
        "target_id" : 0
    },
    ...
]
```

### 借款人信息

同基本资料、学业表现、财务分析和项目信息（直接复用）

### 投标记录

```json
url: "loan/investmentRecord"
method:GET
param{
  "targetId":"targetId"//项目ID
}
return{
  [
  "date":"date"//投资日期
  "name":"name"//投资人姓名
   money:0//投资额度
  ]
}
```



## 个人中心

### 数值分析(update 10.20)

```json
url : 
method : GET

param{
    "username" : "str",
    "stratMonth": "",//格式2018-1类似
    "endMonth": "",
}

//返回的都是在区间[stratMonth,endMonth]内的数据
return {
    //返回区间[stratMonth,stratMonth+1,..,endMonth]
    time: ["1月", "2月", "3月", "4月", "5月", "6月","7月","8月","9月","10月","11月","12月"]
    //收入[data1,data2,...,data(endMonth-stratMonth+1)]，下同
    data_all: [],//分别代表sum(income),sum(expense)...
    income: [300, 310, 1200, 490, 510, 480, 300, 309, 1300, 470, 500, 530]，
    expense:[],//支出
    expense_rig:[],//刚性支出
    expense_disc:[],//可调支出
    surplus:[],//投资额结余
    lblt:[],//负债
    asset:[],//净资产
    
}
```



### 趋势分析

```json
url : 
method : GET

param{
    "username" : "str",
    "stratMonth": "",//格式2018-1类似
    "endMonth": "",
}

//返回的都是在区间[stratMonth,endMonth]内的数据
return {
    //返回区间[stratMonth,stratMonth+1,..,endMonth],如下
    time: ["1月", "2月", "3月", "4月", "5月", "6月","7月","8月","9月","10月","11月","12月"]
    //恩格尔系数[data1,data2,...,data(endMonth-stratMonth+1)]，下同
    engel:[],//恩格尔系数
    rig_ratio:[],//刚性比率
    d2a_ratio:[],//负债率
    dp_ability:[],//偿债能力
    leverage:[],//杠杆比率
    consump_ratio:[],//消费比率
    saving_ratio:[],//储蓄比率
    
}
```

以上的命名参照上古时期的交互规约，后端命名怎么方便怎么来

```json
url : "database" //先简单分类 收入/支出/其他 

param{
    "username" : "str"
}

//此处根据后端数据分析代码的变量名来命名
return{

    //收入数据
    "income_m" : "", //月收入
    "income_all" : "", //总收入
    "" : "", //根据需求，还需要每日的数据

    //支出数据
    "expense_m" : "", //月支出
    "expense_all" : "", //总支出
    "expense_rig_m" : "", //月刚性支出
    "expense_rig_all" : "", //总刚性支出
    "expense_disc_m" : "", //月可调度支出
    "expense_disc_all" : "", //总可调度支出
    "expense_daily_m" : "", //月日常
    "expense_daily_all" : "", //总日常
    "expense_food_m" : "", //月饮食
    "expense_food_all" : "", //总饮食
    "expense_trvl_m" : "", //月出行
    "expense_trvl_all" : "", //总出行
    "expense_ntrt_m" : "", //月娱乐
    "expense_ntrt_all" : "", //总娱乐
    "lblt_m" : "", //月负债
    "lblt_all" : "", //总负债

    //其他数据
    "ivstm_m" : "", //总投资
    "surplus_m" : "", //月结余
    "surplus_all" : "", //总结余
    "asset" : "", //净资产
    "engel" : "", //恩格尔系数
    "rig_ratio" : "", //刚性比率
    "^2all" : "", //各支出占总支出比例
    "d2a_ratio" : "", //资产负债率
    "dp_ability" : "", //偿债能力
    "leverage" : "", //杠杆比率
    "consump_ratio" : "", //月消费比率
    "saving_ratio" : "", //月储蓄比率
    //此处还需要一些比较零碎的，什么食堂，外卖啥的。
    //数据库里有的话就先不写了，有点儿乱了
    
    //信用状况
    "totalRating": "", //总评
    //此处需要近几个月的总评数据

}

```

### 比例分析(update 10.20)

```json
url : 
method : GET

param{
    "username" : "str",
    "month": ""////格式2018-1类似
}

return{
    //格式如下，name的名字是固定的
    //支出
    outcome: 4000,//某个月的支出
    adjust: 1000,//某个月的可调支出
    food: 1297,//某个月的饮食支出
    data1:[
        {value:1501, name:'日常'},
        {value:482, name:'学习'},
        {value:1297, name:'饮食'},
        {value:211, name:'出行'},
        {value:509, name:'娱乐'},
    ]
    //可调支出
    data2:[
        {value:566, name:'衣物'},
        {value:237, name:'饮食'},
        {value:143, name:'住宿'},
        {value:54, name:'娱乐'},
    ]
    //饮食支出
    data3:[
        {value:589, name:'食堂'},
        {value:367, name:'外卖'},
        {value:140, name:'外出'},
        {value:201, name:'零食'},
    ]

}
```



### 消费修正建议(update 10.20)

```json
url : 
method : GET

param{
    "username" : "str",
}

return{
    "nextPayment" : "",//距离下次还款还需几天（最近的）
    "nextPayTime" : "",//下次还需还款几元
    //以下是各次还款的时间以及具体信息
    NextpayList: [
    { 
        paytitle : "托福考试借款项目", projectTime :"2018.9.1-2019.6.1", times:"9", interestPlus:"2862", timesA:"1", timeA:"2018.10.1", amountA:"318", timesB:"2",  timeB:"2018.11.1", amountB:"318", timesC:"3", timeC:"2018.12.1", amountC:"318" 
    },
    { paytitle : "CPA考试借款项目", projectTime :"2018.6.5-2018.10.5", times:"1", interestPlus:"513.33", timesA:"1", timeA:"2018.10.5", amountA:"513.33", timesB:"",  timeB:"", amountB:"", timesC:"", timeC:"", amountC:"" },
    { paytitle : "ACCA考试借款项目", projectTime :"2018.9.7-2018.9.7", times:"12", interestPlus:"3888", timesA:"1", timeA:"2018.10.7", amountA:"324", timesB:"2",  timeB:"2018.11.7", amountB:"324", timesC:"3", timeC:"2018.12.7", amountC:"324" },
],
    user:{
    surplus: 3140, //结余
    netAssets: 1750, //净资产
    engel:32,//恩格尔系数
    rigid:71,//刚性比率
    assetLiabilityRatio:142, //资产负债率
    totalLiabilities: 1390,//负债总额
    solvency: 216,//偿债能力
    leverage: 116,//杠杆比例
    monthCusumptionRatio: 92,//月消费比率
    monthSavingRatio: 5,//月储蓄比例
},
    
}
```

##### NextpayList参数：

借款项目名称：paytitle

| 项目时间        | 待还期数  | 待还本息         |
| ----------- | ----- | ------------ |
| projectTime | times | interestPlus |
| 近三期         | 还款时间  | 还款金额         |
| timesA      | timeA | amountA      |
| timesB      | timeB | amountB      |
| timesC      | timeC | amountC      |

具体格式例子如下：

| 项目时间              | 待还期数       | 待还本息 |
| ----------------- | ---------- | ---- |
| 2018.9.1-2019.6.1 | 9          | 2862 |
| 近三期               | 还款时间       | 还款金额 |
| 1                 | 2018.10.1  | 318  |
| 2                 | 2018.11.1  | 318  |
| 3                 | 2018.122.1 | 318  |

### 结余预测(update 10.20)

```json
url : "repayment/loan/predictSurplus"
method : GET

param{
    "username" : "str",
}

return{
	//预测第n个月后的结余K(n)和A(n)
    time:[2018-11，2018-12...],//月份下标，从当前月份的下一个月开始，有几项就看后端的预测能力了
    Kn:[],
    An:[]，
    //借款成功后的12个月内，根据历史消费记录预测，可知结余占用率、可调支出占用率、需要的额外收入金额
    tableData: [{
          month: '1',
          valX: '100%',
          valY: '95.53%',
          valZ: '---'
        }, {
          month: '2',
          valX: '100%',
          valY: '28.50%',
          valZ: '---'
        }, ...{//共12项
          month: '12',
          valX: '100%',
          valY: '28.50%',
          valZ: '---'    		
		}],
}
```

### 修改资料(update 10.20)

```json
//这里我记得组长写了但是那天我没写交互，然后就忘记这里具体是啥的，到时候我自己看后端代码
```

### 安全服务(update 10.20)

```json
//不是重点，估计后端没时间，评委也不看，优先级最低吧
//修改密码
url : 
method : Post

param{
    "username" : "str",
    "oldPsw":"",
    "newPsw":"",
}

return{
  	"result":0/1(初始密码错误/修改成功)
}

//密保问题
url ：
method: GET
param{
    "username": "str"
}

return {
	state:0/1(已设置密保问题/未设置密保问题)
}


url : 
method : POST
param{
    "username" : "str",
    "quesNo":"",//题号
    "ans":"",//题答案
}

return{
  	"result":0/1(设置失败/设置成功)
}
```

## 信用验证

### 校园验证

```json
//校友
params{
  String realName;
	String gender;('男','女')
	String birthday;(2019-01-01)
	String idCardNumber;
	String education; // 本科毕业、研究生毕业、博士毕业
	String evidence；// 学历证明
	String institution;
	String livingPlace;
}

return{
  Apiresponse;
}
//学生
params{
  "name":"name"//string
  "gender":"男"//string
  "birthday":"1999-01-20"//String
  "idcard":"320802****"//String身份证
  "university":"南京大学"//String
  "institute":"软件学院"//string
  "major":"软件工程"//String
  "alipay":""//String
  "schoolCardPic":"picPath1"//string校园卡照片
  "studentCertificationpic":"picPath2"//string学生证照片
}

return{
  Apiresponse;
}
```

### 财务验证-高级账户

```json
params{
  "alipayData":"csv"//string支付宝消费数据
  "bankData":"csv"//string银行卡消费数据
}
return{
  submitsuccess:true//boolean
}
```

### 财务验证-个性信息

```json
params{
  String username;
  [
  String value,
  String file
  ];
  //详见代码接口……
}
```

### 信用交叉检验

```json
//建立网络
url:'/crossCheck/setUpNetwork'

params{
  String username;
  String studentId1;//学号
  String studentId2;//学号
  String studentId3;//学号
}

return ApiResponse;

//待填问卷列表
url:'/crossCheck/questionnaireList'
params{
  String username;
}

return{
  [
  Long id;
  String studentId;
  String institution;
  String type;
  ]
}

//上传填写结果
url:'/crossCheck/submit'
params{
  long id;
  int q1;
  int q2;
  int q3;
  int q4;
  int q5;
  int q6;
  int q7;
  int q8;
  int q9;
}
return ApiResponse;
```





## 交易列表

### 交易正在进行和已经完成

都应当是用这个

```json  
url :  
method : GET  
  
param{  
"username" : "str",  
}  
  

return {  
num:'000001',  
type:'化妆洗漱',  
name:'DHC橄榄润唇膏',  
description:'日本 大国药妆店购入 全新未拆封',  
price:'50',  
contact:'123456',  
pic:"../../static/pic/dhc.jpeg",  
date:"2018/06/04",  
state: true
  
}  
```

### 交易上传

```json  
url :  
method : GET  
  
param{  
type："type"//string
name:"name"//string 1-10个字符
phone:"phone"//string
pic:url 
desc:"物品的详细信息"//string 长度在1-50个字符。
}  


```
## 失物招领

### 信息发布
```json
    url :"/lostFound/launch" 
    method :POST
      
    param{ 
     	"username":'str'				//发布者姓名
    	"property": 'str',				//消息性质（分为失物招领和寻物启事）
    	"thingsName":'str',  			//物品名称
    	"thingsType":'str',				//类别
    	"phone":"str",					//联系方式
    	"picPath":"pic_file_url",		//对应图片路径 	
    	"description":'str',			//消息描述 
    	"lostPlace":'str',				//地点
    } 
    
    return ApiResponse;
```
### 消息大厅
```json
    url:"/lostFound/center"
    method:GET
    
    params{
      "property":str //消息类别（失物招领和寻物启事），可以为""
      "thingsType":str //物品类别 ，可以为""
      "lostPlace":str //地点 ，可以为""
      "page":0;
      "pageSize":6;
    }
    
    return{
      	"taskID":long					//taskID
   		"username":'str'				//发布者姓名
      	"date":"str"					//发布时间
    	"property": 'str',				//消息性质（分为失物招领和寻物启事）
    	"thingsName":'str',  			//物品名称
    	"thingsType":'str',				//类别
    	"phone":"str",					//联系方式
    	"picPath":"pic_file_url",		//对应图片路径 	
    	"description":'str',			//消息描述 
    	"lostPlace":'str',				//地点
    }									
```
### 查看正在进行和已完成

```json
url:"lostFound/check"
method:GET

params{
  "username":str ///用户名称
  "property":str //性质（分为失物招领和寻物启事）
  "state":str //任务状态（“正在进行”或“已完成”）
}

return{
  [
  	"taskID":long					//taskID
	"thingsName":'str',  			//物品名称
	"thingsType":'str',				//类别
	"phone":"str",					//联系方式
  	"date":"str"					//发布时间
	"picPath":"pic_file_url",		//对应图片路径 	
	"description":'str',			//消息描述 
  ]//List<>
}

```



## 基本功能

### 注册

```json


url : "user/signup "

method : POST

 

param

{

 “account”:str

“password”:str 

"email": str

“phone”:str

 

}

 

return

{

  "result":0/1/2(0,注册失败，1，成功，2，用户名重复)

}
```
###登录

```json
 

 

 

url : "user/login"

method : POST

 

param

{

"username": str,"password": str

}

 

return

{

  "result":boolean,

  "ifRead":1或0,//是否有未读消息

  “photoSrc”: string,//头像地址

}

```
###信息通知
```json

url : "/messages"

method : post

 

param

{

"username": str

}

 

return

{

  tableData: 

            以{

              state: str,

              date: str,

              time: str,

              kind: str,

              content: str

            }为元素的array

}

```

###首页排行榜
```json
url : " /homepage/topRange"
method : get

return
{
  tableData: [[]] //长度为10，str的array的array，
			//依次为姓名，性别、职务、院校、个人介绍、投资金额、平均利率、投资信息
            比如：['陈骏','男','教授','南京大学','陈骏，男， 1954年生，教授，1985年获南京大学矿床学博士学位并留校任教，曾任南京大学地球科学系主任、南京大学副校长、常务副校长、南京大学校长。2013年当选为中国科学院院士。','80000','1.00%','148121\n151152\n180633']
            
    photoSrc=[] //长度为10的str数组，存放头像地址
  
}


```

###首页公告
```json
url : " /homepage/anouncement"
method : get
return
{
    hrefs=[] //长度为10的str数组，存放链接地址
    contents=[] //长度为10的str数组，存放链接内容
}


```

